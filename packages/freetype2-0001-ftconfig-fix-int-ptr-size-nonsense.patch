From 50676c0d3d11bb953345520f1fe6e552fe0f2eb6 Mon Sep 17 00:00:00 2001
From: Martin Herkt <lachs0r@srsfckn.biz>
Date: Sat, 22 Apr 2017 06:14:12 +0200
Subject: [PATCH] ftconfig: fix int/ptr size nonsense

FT should just drop compatibility with imaginary compilers.
---
 builds/unix/ftconfig.in            | 8 +-------
 include/freetype/config/ftconfig.h | 8 +-------
 2 files changed, 2 insertions(+), 14 deletions(-)

diff --git a/builds/unix/ftconfig.in b/builds/unix/ftconfig.in
index b0ef313a..9b9b5c78 100644
--- a/builds/unix/ftconfig.in
+++ b/builds/unix/ftconfig.in
@@ -365,13 +365,7 @@ FT_BEGIN_HEADER
 #endif
 
 
-#ifdef _WIN64
-  /* only 64bit Windows uses the LLP64 data model, i.e., */
-  /* 32bit integers, 64bit pointers                      */
-#define FT_UINT_TO_POINTER( x ) (void*)(FT_UInt64)(x)
-#else
-#define FT_UINT_TO_POINTER( x ) (void*)(unsigned long)(x)
-#endif
+#define FT_UINT_TO_POINTER( x ) (void*)(uintptr_t)(x)
 
 
   /*************************************************************************/
diff --git a/include/freetype/config/ftconfig.h b/include/freetype/config/ftconfig.h
index 0a1e4db8..b3555b0b 100644
--- a/include/freetype/config/ftconfig.h
+++ b/include/freetype/config/ftconfig.h
@@ -333,13 +333,7 @@ FT_BEGIN_HEADER
 #endif
 
 
-#ifdef _WIN64
-  /* only 64bit Windows uses the LLP64 data model, i.e., */
-  /* 32bit integers, 64bit pointers                      */
-#define FT_UINT_TO_POINTER( x ) (void*)(FT_UInt64)(x)
-#else
-#define FT_UINT_TO_POINTER( x ) (void*)(unsigned long)(x)
-#endif
+#define FT_UINT_TO_POINTER( x ) (void*)(uintptr_t)(x)
 
 
   /*************************************************************************/
-- 
2.12.2

